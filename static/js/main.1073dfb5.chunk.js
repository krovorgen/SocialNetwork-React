(this["webpackJsonpsocial-network-react"]=this["webpackJsonpsocial-network-react"]||[]).push([[0],{13:function(e,t,a){e.exports={dialogs:"style_dialogs__qCvoj",dialogs__items:"style_dialogs__items__1wzok",dialogs__link:"style_dialogs__link__3Cxfk","dialogs__link--active":"style_dialogs__link--active__2fSHI",messages:"style_messages__sIi40"}},14:function(e,t,a){e.exports={user__item:"style_user__item__30sCI",user__avatar:"style_user__avatar__3QnFU",user__ava:"style_user__ava__1LYQJ","user-navigation":"style_user-navigation__3vcr8"}},15:function(e,t,a){e.exports={posts__form:"style_posts__form__2dBOn",posts__item:"style_posts__item__2LBOa",posts__avatar:"style_posts__avatar__VM_3i",posts__likes:"style_posts__likes__1KvTR"}},19:function(e,t,a){e.exports={menu:"style_menu__1dsIT",menu__list:"style_menu__list__2-lLq",menu__link:"style_menu__link__1qZMy","menu__link--active":"style_menu__link--active__HoIxb","menu__link--profile":"style_menu__link--profile__1eJ-f","menu__link--messages":"style_menu__link--messages__2uDhC","menu__link--news":"style_menu__link--news__2UhgP","menu__link--music":"style_menu__link--music__18alS","menu__link--settings":"style_menu__link--settings__TKDbX"}},22:function(e,t,a){e.exports={button:"style_button__2tnMZ",button__100:"style_button__100__2syVF","button--active":"style_button--active__3wFSt","button--navigation":"style_button--navigation__222KC"}},32:function(e,t,a){e.exports={header:"style_header__2rz0n"}},45:function(e,t,a){e.exports={preloader:"style_preloader__AusUR"}},5:function(e,t,a){e.exports={profile__background:"style_profile__background__1U9yd"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(23),i=a.n(c),r=a(12),o=a(11),l=a(4),u=a.p+"static/media/rocket.ba44f326.png",_=a(32),j=a.n(_),d=a(0),b=function(){return Object(d.jsx)("header",{className:"".concat(j.a.header),children:Object(d.jsx)("img",{className:j.a.header__logo,width:50,height:50,src:u,alt:"logo"})})},p=a(76),m=a(19),O=a.n(m),g=[{id:Object(p.a)(),iconClass:"profile",url:"/profile",textLink:"Profile"},{id:Object(p.a)(),iconClass:"messages",url:"/dialogs",textLink:"Messages"},{id:Object(p.a)(),iconClass:"news",url:"/news",textLink:"News"},{id:Object(p.a)(),iconClass:"music",url:"/music",textLink:"Music"},{id:Object(p.a)(),iconClass:"settings",url:"/settings",textLink:"Settings"},{id:Object(p.a)(),iconClass:"settings",url:"/users",textLink:"Users"}],f=function(){return Object(d.jsx)("nav",{className:"".concat(O.a.menu),children:Object(d.jsx)("ul",{className:"menu__list",children:g.map((function(e){return Object(d.jsx)("li",{className:O.a.menu__item,children:Object(d.jsx)(o.b,{className:"".concat(O.a.menu__link," ").concat(O.a["menu__link--".concat(e.iconClass)]),activeClassName:O.a["menu__link--active"],exact:!0,to:"".concat(e.url),children:e.textLink})},e.id)}))})})},h=function(){return Object(d.jsx)(d.Fragment,{children:"News"})},x=a(5),v=a.n(x),k=function(e){var t=e.profile;return Object(d.jsxs)("div",{className:v.a.profile,children:[Object(d.jsx)(ce,{profile:t}),Object(d.jsx)(re,{})]})},y=function(){return Object(d.jsx)(d.Fragment,{children:"Music"})},N=function(){return Object(d.jsx)(d.Fragment,{children:"Settings"})},w=a(14),T=a.n(w),C=a.p+"static/media/siluet.74c7c662.svg",P=function(e){for(var t=e.totalUsersCount,a=e.pageSize,s=e.currentPage,n=e.users,c=e.onUnfollowUser,i=e.onFollowUser,r=e.onPageChanged,l=Math.ceil(t/a),u=[],_=1;_<=l;_++)u.push(_);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:T.a["user-navigation"],children:u.map((function(e,t){return Object(d.jsx)("li",{className:T.a["user-navigation__item"],children:Object(d.jsx)(M,{type:"navigation",onClick:function(){return r(e)},active:s===e,children:e})},t)}))}),Object(d.jsx)("ul",{className:T.a.user,children:n.map((function(e,t){return Object(d.jsxs)("li",{className:T.a.user__item,children:[Object(d.jsxs)("div",{className:T.a.user__avatar,children:[Object(d.jsx)(o.b,{to:"/profile/".concat(e.id),children:Object(d.jsx)("img",{className:T.a.user__ava,width:150,height:150,src:e.photos.small||C,alt:""})}),e.followed?Object(d.jsx)(M,{onClick:function(){return c(e.id)},size:"full",children:"Unfollow"}):Object(d.jsx)(M,{onClick:function(){return i(e.id)},size:"full",children:"Follow"})]}),Object(d.jsxs)("div",{className:T.a.user__info,children:[Object(d.jsx)("p",{className:T.a.user__name,children:e.name}),Object(d.jsx)("p",{className:T.a.user__status,children:e.status||"Empty status"})]})]},t)}))})]})},S=a(18),E=a(44),U=a.n(E),D=a(22),L=a.n(D),M=function(e){var t,a=e.addClass,s=e.active,n=e.type,c=e.children,i=e.size,r=e.onClick,o=(t={},Object(S.a)(t,L.a.button__100,"full"===i),Object(S.a)(t,L.a["button--active"],s),Object(S.a)(t,L.a["button--navigation"],"navigation"===n),t);return Object(d.jsx)("button",{className:U()(L.a.button,a,o),onClick:r,type:"button",children:c})},I=a(15),F=a.n(I),A=function(e){var t=e.postItemData,a=e.newPostText,s=e.onChangeTextarea,n=e.addPost;return Object(d.jsxs)("div",{className:F.a.posts,children:[Object(d.jsxs)("div",{className:F.a.posts__form,children:[Object(d.jsx)("textarea",{className:"form-textarea",placeholder:"Enter your message",onChange:s,value:a}),Object(d.jsx)(M,{onClick:n,children:"POST"})]}),Object(d.jsx)("ul",{className:F.a.posts__items,children:t&&t.map((function(e){return Object(d.jsx)(ie,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}))})]})},R=a(45),z=a.n(R),J=function(){return Object(d.jsx)("div",{className:z.a.preloader,children:Object(d.jsx)("img",{src:"./images/loader.svg",alt:"loader"})})},X="ADD-MESSAGE",G="UPDATE-NEW-MESSAGE-TEXT",V="UPDATE-NEW-POST-TEXT",W="ADD-POST",q="FOLLOW",B="UNFOLLOW",K="SET_USERS",H="SET_CURRENT_PAGE",Q="SET_TOTAL_USER_COUNT",Z="TOGGLE_LOADING_STATUS",Y="SET_USER_PROFILE",$=a(13),ee=a.n($),te=function(e){var t=e.dialogsPage,a=e.addMessage,s=e.onChangeTextarea;return Object(d.jsxs)("div",{className:ee.a.dialogs,children:[Object(d.jsx)("ul",{className:ee.a.dialogs__items,children:t.dialogsData&&t.dialogsData.map((function(e){return Object(d.jsx)(se,{name:e.name,id:e.id},e.id)}))}),Object(d.jsxs)("ul",{className:ee.a.messages,children:[t.messagesData&&t.messagesData.map((function(e){return Object(d.jsx)(ne,{id:e.id,message:e.message},e.id)})),Object(d.jsx)("textarea",{className:"form-textarea",onChange:s,placeholder:"Enter your message",value:t.newMessageText}),Object(d.jsx)(M,{onClick:a,children:"Send"})]})]})},ae=Object(r.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addMessage:function(){e({type:X})},onChangeTextarea:function(t){var a;e((a=t.currentTarget.value,{type:G,payload:a}))}}}))(te),se=function(e){var t=e.id,a=e.name;return Object(d.jsx)("li",{className:ee.a.dialogs__item,children:Object(d.jsx)(o.b,{className:ee.a.dialogs__link,activeClassName:ee.a["dialogs__link--active"],to:"/dialogs/".concat(t),children:a})})},ne=function(e){e.id;var t=e.message;return Object(d.jsx)("li",{className:ee.a.messages__item,children:t})},ce=function(e){var t=e.profile;return Object(d.jsx)(d.Fragment,{children:t?Object(d.jsxs)("div",{className:v.a.profile__inner,children:[Object(d.jsx)("div",{className:v.a.profile__background,children:Object(d.jsx)("img",{src:"./images/user-bg.jpg",alt:"background"})}),Object(d.jsxs)("div",{className:v.a.profile__wrap,children:[Object(d.jsx)("div",{className:v.a.profile__avatar,children:Object(d.jsx)("img",{src:null===t||void 0===t?void 0:t.photos.small,alt:null===t||void 0===t?void 0:t.fullName})}),Object(d.jsxs)("div",{className:v.a.profile__info,children:[Object(d.jsx)("p",{className:v.a.profile__name,children:t.fullName}),Object(d.jsx)("p",{className:v.a.profile__status,children:t.aboutMe}),Object(d.jsxs)("div",{className:v.a.profile__job,children:["Job:",Object(d.jsx)("p",{children:t.lookingForAJob?"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b":"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),Object(d.jsx)("p",{children:t.lookingForAJobDescription})]})]}),Object(d.jsxs)("ul",{className:v.a.profile__links,children:[Object(d.jsxs)("li",{className:v.a.profile__link,children:[Object(d.jsx)("a",{href:t.contacts.github,className:"profile__contact",children:t.contacts.github}),t.contacts.github]}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.instagram,className:"profile__contact",children:t.contacts.instagram})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.vk,className:"profile__contact",children:t.contacts.vk})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.twitter,className:"profile__contact",children:t.contacts.twitter})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.facebook,className:"profile__contact",children:t.contacts.facebook})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.mainLink,className:"profile__contact",children:t.contacts.mainLink})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.youtube,className:"profile__contact",children:t.contacts.youtube})}),Object(d.jsx)("li",{className:v.a.profile__link,children:Object(d.jsx)("a",{href:t.contacts.website,className:"profile__contact",children:t.contacts.website})})]})]})]}):Object(d.jsx)(J,{})})},ie=function(e){var t=e.message,a=e.likesCount;e.id;return Object(d.jsxs)("li",{className:F.a.posts__item,children:[Object(d.jsx)("img",{className:F.a.posts__avatar,width:50,height:50,src:"./images/avatar.png",alt:"avatar"}),t,Object(d.jsxs)("span",{className:F.a.posts__likes,children:["Likes: ",a]})]})},re=Object(r.b)((function(e){return{postItemData:e.profilePage.postItemData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){return e({type:W})},onChangeTextarea:function(t){var a;e((a=t.currentTarget.value,{type:V,payload:a}))}}}))(A),oe=a(2),le=a(25),ue=a(26),_e=a(29),je=a(27),de=a(21),be=a.n(de),pe=function(e){Object(_e.a)(a,e);var t=Object(je.a)(a);function a(){var e;Object(le.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onPageChanged=function(t){e.props.toggleStatusLoading(!0),e.props.setCurrentPage(t),be.a.get("https://social-network.samuraijs.com/api/1.0/users/",{params:{page:t,count:e.props.pageSize}}).then((function(t){var a=t.data;e.props.setUsers(a.items),e.props.toggleStatusLoading(!1)}))},e}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this;be.a.get("https://social-network.samuraijs.com/api/1.0/users/",{params:{page:this.props.currentPage,count:this.props.pageSize}}).then((function(t){var a=t.data;e.props.setUsers(a.items),e.props.setTotalUsersCount(a.totalCount),e.props.toggleStatusLoading(!1)}))}},{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:this.props.isLoading?Object(d.jsx)(J,{}):Object(d.jsx)(P,Object(oe.a)(Object(oe.a)({},this.props),{},{onPageChanged:this.onPageChanged}))})}}]),a}(n.a.Component),me=Object(r.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isLoading:e.usersPage.isLoading}}),{onFollowUser:function(e){return{type:q,payload:e}},onUnfollowUser:function(e){return{type:B,payload:e}},setUsers:function(e){return{type:K,payload:e}},setCurrentPage:function(e){return{type:H,payload:e}},setTotalUsersCount:function(e){return{type:Q,payload:e}},toggleStatusLoading:function(e){return{type:Z,payload:e}}})(pe),Oe=function(e){Object(_e.a)(a,e);var t=Object(je.a)(a);function a(){return Object(le.a)(this,a),t.apply(this,arguments)}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userID;be.a.get("".concat("https://social-network.samuraijs.com/api/1.0/","profile/").concat(t||"2")).then((function(t){var a=t.data;e.props.setUserProfile(a)}))}},{key:"render",value:function(){return Object(d.jsx)(k,{profile:this.props.profile})}}]),a}(n.a.Component),ge=Object(l.e)(Oe),fe=Object(r.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:Y,payload:e}}})(ge),he=function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(b,{}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(f,{}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)(l.a,{path:"/profile/:userID?",render:function(){return Object(d.jsx)(fe,{})}}),Object(d.jsx)(l.a,{path:"/dialogs",render:function(){return Object(d.jsx)(ae,{})}}),Object(d.jsx)(l.a,{path:"/news",render:function(){return Object(d.jsx)(h,{})}}),Object(d.jsx)(l.a,{path:"/music",render:function(){return Object(d.jsx)(y,{})}}),Object(d.jsx)(l.a,{path:"/settings",render:function(){return Object(d.jsx)(N,{})}}),Object(d.jsx)(l.a,{path:"/users",exact:!0,render:function(){return Object(d.jsx)(me,{})}})]})]})]})},xe=a(28),ve=a(17),ke={messagesData:[],dialogsData:[{id:Object(p.a)(),name:"TEST USER"},{id:Object(p.a)(),name:"TEST USER"},{id:Object(p.a)(),name:"TEST USER"}],newMessageText:""},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:var a={id:Object(p.a)(),message:e.newMessageText};return Object(oe.a)(Object(oe.a)({},e),{},{messagesData:[].concat(Object(ve.a)(e.messagesData),[a]),newMessageText:""});case G:return Object(oe.a)(Object(oe.a)({},e),{},{newMessageText:t.payload});default:return e}},Ne={postItemData:[],newPostText:"",profile:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var a={id:Object(p.a)(),message:e.newPostText,likesCount:1};return Object(oe.a)(Object(oe.a)({},e),{},{postItemData:[].concat(Object(ve.a)(e.postItemData),[a]),newPostText:""});case V:return Object(oe.a)(Object(oe.a)({},e),{},{newPostText:t.payload});case Y:return Object(oe.a)(Object(oe.a)({},e),{},{profile:t.payload});default:return e}},Te={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isLoading:!0},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(oe.a)(Object(oe.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(oe.a)(Object(oe.a)({},e),{},{followed:!0}):e}))});case B:return Object(oe.a)(Object(oe.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(oe.a)(Object(oe.a)({},e),{},{followed:!1}):e}))});case K:return Object(oe.a)(Object(oe.a)({},e),{},{users:Object(ve.a)(t.payload)});case H:return Object(oe.a)(Object(oe.a)({},e),{},{currentPage:t.payload});case Q:return Object(oe.a)(Object(oe.a)({},e),{},{totalUsersCount:t.payload});case Z:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:t.payload});default:return e}},Pe=Object(xe.a)({dialogsPage:ye,profilePage:we,usersPage:Ce}),Se=Object(xe.b)(Pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(74);i.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(r.a,{store:Se,children:Object(d.jsx)(he,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.1073dfb5.chunk.js.map